{"ast":null,"code":"var _jsxFileName = \"/home/seung/react/shop/front-shop/src/components/MainPost.js\",\n    _s = $RefreshSig$();\n\nimport { loginAction } from '../modules/user';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Form, Container, Button, Row, Col } from 'react-bootstrap';\nimport { CategoryDirection } from './CategoryBanner';\nimport '../App.css';\nimport Modal from './Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MainPost({\n  history\n}) {\n  _s();\n\n  const [modalOpen, setModalOpen] = useState(false);\n\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n\n  const [modalContents, setModalContents] = useState('');\n  const dispatch = useDispatch();\n  const [userData, setUserData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const {\n    username,\n    password\n  } = userData;\n\n  const onChangeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserData({ ...userData,\n      [name]: value\n    });\n  };\n\n  const onClickHandler = e => {\n    e.preventDefault();\n    let body = {\n      username: username,\n      password: password\n    };\n    axios.post('/apis/v1/user/login', body).then(response => {\n      history.replace('/');\n      dispatch(loginAction(response.data.payload));\n    }).catch(e => {\n      setModalOpen(true);\n      setModalContents('아이디와 패스워드를 확인해 주세요');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      open: modalOpen,\n      close: closeModal,\n      children: modalContents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CategoryDirection, {\n      tag1: '자유 거래 게시판'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this); // return (<div style ={{\n  //     display : 'flex', justifyContent : 'center', alignItems: 'center',\n  //     width : '100%', height : '100vh'\n  // }}>\n  //     <form style ={{display : 'flex', flexDirection:'column'}}\n  //         onSubmit={onClickHandler}>\n  //         <label>username</label>\n  //         <input name = \"username\" value = {username} onChange={onChangeHandler}/>\n  //         <label>Password</label>\n  //         <input name = \"password\" value = {password} onChange={onChangeHandler}/>\n  //         <br/>\n  //         <button type = 'submit'>\n  //             Login\n  //         </button>\n  //     </form>\n  // </div>);\n}\n\n_s(MainPost, \"lmD8OS/5JmRZzOMnmGFczOPW7+8=\", false, function () {\n  return [useDispatch];\n});\n\n_c = MainPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPost\");","map":{"version":3,"sources":["/home/seung/react/shop/front-shop/src/components/MainPost.js"],"names":["loginAction","axios","React","useState","useSelector","useDispatch","Form","Container","Button","Row","Col","CategoryDirection","Modal","MainPost","history","modalOpen","setModalOpen","closeModal","modalContents","setModalContents","dispatch","userData","setUserData","username","password","onChangeHandler","e","name","value","target","onClickHandler","preventDefault","body","post","then","response","replace","data","payload","catch"],"mappings":";;;AAAA,SAAQA,WAAR,QAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,IAAR,EAAcC,SAAd,EAAyBC,MAAzB,EAAiCC,GAAjC,EAAsCC,GAAtC,QAAgD,iBAAhD;AACA,SAASC,iBAAT,QAAkC,kBAAlC;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,eAAe,SAASC,QAAT,CAAkB;AAACC,EAAAA;AAAD,CAAlB,EAA4B;AAAA;;AACvC,QAAM,CAAEC,SAAF,EAAaC,YAAb,IAA8Bb,QAAQ,CAAC,KAAD,CAA5C;;AACA,QAAMc,UAAU,GAAG,MAAM;AACrBD,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,GAFD;;AAGA,QAAM,CAAEE,aAAF,EAAiBC,gBAAjB,IAAsChB,QAAQ,CAAC,EAAD,CAApD;AAGA,QAAMiB,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC;AACrCoB,IAAAA,QAAQ,EAAE,EAD2B;AAErCC,IAAAA,QAAQ,EAAE;AAF2B,GAAD,CAAxC;AAIA,QAAM;AAACD,IAAAA,QAAD;AAAWC,IAAAA;AAAX,MAAuBH,QAA7B;;AAEA,QAAMI,eAAe,GAAIC,CAAD,IAAO;AAC3B,UAAM;AAACC,MAAAA,IAAD;AAAOC,MAAAA;AAAP,QAAgBF,CAAC,CAACG,MAAxB;AACAP,IAAAA,WAAW,CAAC,EACR,GAAGD,QADK;AAER,OAACM,IAAD,GAAQC;AAFA,KAAD,CAAX;AAKH,GAPD;;AAQA,QAAME,cAAc,GAAIJ,CAAD,IAAK;AACxBA,IAAAA,CAAC,CAACK,cAAF;AACA,QAAIC,IAAI,GAAG;AACPT,MAAAA,QAAQ,EAAEA,QADH;AAEPC,MAAAA,QAAQ,EAAEA;AAFH,KAAX;AAIAvB,IAAAA,KAAK,CAACgC,IAAN,CAAW,qBAAX,EAAkCD,IAAlC,EACCE,IADD,CACMC,QAAQ,IAAI;AACdrB,MAAAA,OAAO,CAACsB,OAAR,CAAgB,GAAhB;AACAhB,MAAAA,QAAQ,CAACpB,WAAW,CAACmC,QAAQ,CAACE,IAAT,CAAcC,OAAf,CAAZ,CAAR;AAEH,KALD,EAKGC,KALH,CAKSb,CAAC,IAAG;AACTV,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAG,MAAAA,gBAAgB,CAAC,oBAAD,CAAhB;AAEH,KATD;AAUH,GAhBD;;AAkBA,sBAII,QAAC,SAAD;AAAA,4BACI,QAAC,KAAD;AAAO,MAAA,IAAI,EAAGJ,SAAd;AAA0B,MAAA,KAAK,EAAGE,UAAlC;AAAA,gBACKC;AADL;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,iBAAD;AAAmB,MAAA,IAAI,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UAJJ,CAzCuC,CA2DvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;GA3EuBL,Q;UAQHR,W;;;KARGQ,Q","sourcesContent":["import {loginAction} from '../modules/user'\nimport axios from 'axios'\nimport React, {useState} from 'react'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {Form, Container, Button, Row, Col} from 'react-bootstrap'\nimport { CategoryDirection } from './CategoryBanner'\nimport '../App.css'\nimport Modal from './Modal'\n\nexport default function MainPost({history}){\n    const [ modalOpen, setModalOpen ] = useState(false);\n    const closeModal = () => {\n        setModalOpen(false);\n    }\n    const [ modalContents, setModalContents ] = useState('');\n    \n\n    const dispatch = useDispatch();\n    const [userData, setUserData] = useState({\n        username: \"\",\n        password: \"\"\n    })\n    const {username, password} = userData;\n\n    const onChangeHandler = (e) => {\n        const {name, value} = e.target;\n        setUserData({\n            ...userData,\n            [name]: value\n        })\n\n    };\n    const onClickHandler = (e)=>{\n        e.preventDefault();\n        let body = {\n            username: username,\n            password: password\n        };\n        axios.post('/apis/v1/user/login', body)\n        .then(response => {\n            history.replace('/')\n            dispatch(loginAction(response.data.payload))\n      \n        }).catch(e =>{\n            setModalOpen(true);\n            setModalContents('아이디와 패스워드를 확인해 주세요');\n       \n        })\n    }\n\n    return (\n   \n    \n     \n        <Container >\n            <Modal open={ modalOpen } close={ closeModal }>\n                {modalContents}\n            </Modal>\n            <CategoryDirection tag1={'자유 거래 게시판'}></CategoryDirection>\n            <br/>\n            \n\n\n        </Container>\n      \n    );\n    \n\n    // return (<div style ={{\n    //     display : 'flex', justifyContent : 'center', alignItems: 'center',\n    //     width : '100%', height : '100vh'\n    // }}>\n    //     <form style ={{display : 'flex', flexDirection:'column'}}\n    //         onSubmit={onClickHandler}>\n    //         <label>username</label>\n    //         <input name = \"username\" value = {username} onChange={onChangeHandler}/>\n    //         <label>Password</label>\n    //         <input name = \"password\" value = {password} onChange={onChangeHandler}/>\n    //         <br/>\n    //         <button type = 'submit'>\n    //             Login\n    //         </button>\n    //     </form>\n    // </div>);\n}\n"]},"metadata":{},"sourceType":"module"}