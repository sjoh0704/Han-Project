{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getListFiles = exports.getImage = exports.getBase64 = exports.getAcceptTypeString = exports.openFileDialog = void 0;\n\nexports.openFileDialog = function (inputRef) {\n  if (inputRef.current) inputRef.current.click();\n};\n\nexports.getAcceptTypeString = function (acceptType) {\n  return acceptType && acceptType.length > 0 ? acceptType.map(function (item) {\n    return \".\" + item;\n  }).join(', ') : 'image/*';\n};\n\nexports.getBase64 = function (file) {\n  var reader = new FileReader();\n  return new Promise(function (resolve) {\n    reader.addEventListener('load', function () {\n      return resolve(String(reader.result));\n    });\n    reader.readAsDataURL(file);\n  });\n};\n\nexports.getImage = function (file) {\n  var image = new Image();\n  return new Promise(function (resolve) {\n    image.addEventListener('load', function () {\n      return resolve(image);\n    });\n    image.src = URL.createObjectURL(file);\n  });\n};\n\nexports.getListFiles = function (files, dataURLKey) {\n  var promiseFiles = [];\n\n  for (var i = 0; i < files.length; i++) {\n    promiseFiles.push(exports.getBase64(files[i]));\n  }\n\n  return Promise.all(promiseFiles).then(function (fileListBase64) {\n    var fileList = fileListBase64.map(function (base64, index) {\n      var _a;\n\n      return _a = {}, _a[dataURLKey] = base64, _a.file = files[index], _a;\n    });\n    return fileList;\n  });\n};","map":{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":";;;;;;;AAEa,OAAA,CAAA,cAAA,GAAiB,UAAC,QAAD,EAAS;AACrC,MAAI,QAAQ,CAAC,OAAb,EAAsB,QAAQ,CAAC,OAAT,CAAiB,KAAjB;AACvB,CAFY;;AAIA,OAAA,CAAA,mBAAA,GAAsB,UAAC,UAAD,EAA2B;AAC5D,SAAO,UAAU,IAAI,UAAU,CAAC,MAAX,GAAoB,CAAlC,GACH,UAAU,CAAC,GAAX,CAAe,UAAC,IAAD,EAAK;AAAK,WAAA,MAAA,IAAA;AAAU,GAAnC,EAAqC,IAArC,CAA0C,IAA1C,CADG,GAEH,SAFJ;AAGD,CAJY;;AAMA,OAAA,CAAA,SAAA,GAAY,UAAC,IAAD,EAAW;AAClC,MAAM,MAAM,GAAG,IAAI,UAAJ,EAAf;AACA,SAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAQ;AACzB,IAAA,MAAM,CAAC,gBAAP,CAAwB,MAAxB,EAAgC,YAAA;AAAM,aAAA,OAAO,CAAC,MAAM,CAAC,MAAM,CAArB,MAAc,CAAP,CAAP;AAA8B,KAApE;AACA,IAAA,MAAM,CAAC,aAAP,CAAqB,IAArB;AACD,GAHM,CAAP;AAID,CANY;;AAQA,OAAA,CAAA,QAAA,GAAW,UAAC,IAAD,EAAW;AACjC,MAAM,KAAK,GAAG,IAAI,KAAJ,EAAd;AACA,SAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAQ;AACzB,IAAA,KAAK,CAAC,gBAAN,CAAuB,MAAvB,EAA+B,YAAA;AAAM,aAAA,OAAO,CAAP,KAAO,CAAP;AAAc,KAAnD;AACA,IAAA,KAAK,CAAC,GAAN,GAAY,GAAG,CAAC,eAAJ,CAAoB,IAApB,CAAZ;AACD,GAHM,CAAP;AAID,CANY;;AAQA,OAAA,CAAA,YAAA,GAAe,UAC1B,KAD0B,EAE1B,UAF0B,EAER;AAElB,MAAM,YAAY,GAA2B,EAA7C;;AACA,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAC,MAA1B,EAAkC,CAAC,EAAnC,EAAuC;AACrC,IAAA,YAAY,CAAC,IAAb,CAAkB,OAAA,CAAA,SAAA,CAAU,KAAK,CAAC,CAAD,CAAf,CAAlB;AACD;;AACD,SAAO,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,IAA1B,CAA+B,UAAC,cAAD,EAA8B;AAClE,QAAM,QAAQ,GAAkB,cAAc,CAAC,GAAf,CAAmB,UAAC,MAAD,EAAS,KAAT,EAAc;;;AAAK,aAAA,EAAA,GAAA,EAAA,EACpE,EAAA,CAAC,UAAD,CAAA,GAAc,MADsD,EAEpE,EAAA,CAAA,IAAA,GAAM,KAAK,CAAC,KAAD,CAFyD,EAGpE,EAHoE;AAGpE,KAH8B,CAAhC;AAIA,WAAO,QAAP;AACD,GANM,CAAP;AAOD,CAfY","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getListFiles = exports.getImage = exports.getBase64 = exports.getAcceptTypeString = exports.openFileDialog = void 0;\nexports.openFileDialog = function (inputRef) {\n    if (inputRef.current)\n        inputRef.current.click();\n};\nexports.getAcceptTypeString = function (acceptType) {\n    return acceptType && acceptType.length > 0\n        ? acceptType.map(function (item) { return \".\" + item; }).join(', ')\n        : 'image/*';\n};\nexports.getBase64 = function (file) {\n    var reader = new FileReader();\n    return new Promise(function (resolve) {\n        reader.addEventListener('load', function () { return resolve(String(reader.result)); });\n        reader.readAsDataURL(file);\n    });\n};\nexports.getImage = function (file) {\n    var image = new Image();\n    return new Promise(function (resolve) {\n        image.addEventListener('load', function () { return resolve(image); });\n        image.src = URL.createObjectURL(file);\n    });\n};\nexports.getListFiles = function (files, dataURLKey) {\n    var promiseFiles = [];\n    for (var i = 0; i < files.length; i++) {\n        promiseFiles.push(exports.getBase64(files[i]));\n    }\n    return Promise.all(promiseFiles).then(function (fileListBase64) {\n        var fileList = fileListBase64.map(function (base64, index) {\n            var _a;\n            return (_a = {},\n                _a[dataURLKey] = base64,\n                _a.file = files[index],\n                _a);\n        });\n        return fileList;\n    });\n};\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}