{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport { uploadFile } from 'react-s3';\nimport dotenv from 'dotenv';\ndotenv.config();\nconst S3_BUCKET = required(\"REACT_APP_BUCKET_NAME\");\nconst REGION = required(\"REACT_APP_REGION\");\nconst ACCESS_KEY = required(\"REACT_APP_ACCESS_KEY\");\nconst SECRET_ACCESS_KEY = required(\"REACT_APP_ACCESS_SECRET_KEY\");\n\nfunction required(key, defaultValue = undefined) {\n  const value = process.env[key] || defaultValue;\n\n  if (value == null) {\n    throw new Error(`Key ${key} is undefined`);\n  }\n\n  return value;\n}\n\nexport const S3Config = {\n  bucketName: S3_BUCKET,\n  region: REGION,\n  accessKeyId: ACCESS_KEY,\n  secretAccessKey: SECRET_ACCESS_KEY\n};\n\nconst UploadS3 = file => {\n  if (!file) {\n    return;\n  }\n\n  uploadFile(file, S3Config).then(data => console.log(data)).catch(err => console.error(err));\n};\n\n_c = UploadS3;\nexport default UploadS3;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadS3\");","map":{"version":3,"sources":["/home/seung/react/shop/front-shop/src/components/UploadS3.js"],"names":["React","useEffect","useState","uploadFile","dotenv","config","S3_BUCKET","required","REGION","ACCESS_KEY","SECRET_ACCESS_KEY","key","defaultValue","undefined","value","process","env","Error","S3Config","bucketName","region","accessKeyId","secretAccessKey","UploadS3","file","then","data","console","log","catch","err","error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,UAAT,QAA2B,UAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACAA,MAAM,CAACC,MAAP;AAIA,MAAMC,SAAS,GAAEC,QAAQ,CAAC,uBAAD,CAAzB;AACA,MAAMC,MAAM,GAAED,QAAQ,CAAC,kBAAD,CAAtB;AACA,MAAME,UAAU,GAAEF,QAAQ,CAAC,sBAAD,CAA1B;AACA,MAAMG,iBAAiB,GAAEH,QAAQ,CAAC,6BAAD,CAAjC;;AAGA,SAASA,QAAT,CAAkBI,GAAlB,EAAuBC,YAAY,GAAGC,SAAtC,EAAiD;AAC7C,QAAMC,KAAK,GAAGC,OAAO,CAACC,GAAR,CAAYL,GAAZ,KAAoBC,YAAlC;;AACA,MAAGE,KAAK,IAAI,IAAZ,EAAkB;AACd,UAAM,IAAIG,KAAJ,CAAW,OAAMN,GAAI,eAArB,CAAN;AACH;;AACD,SAAOG,KAAP;AACH;;AAED,OAAO,MAAMI,QAAQ,GAAG;AACpBC,EAAAA,UAAU,EAAEb,SADQ;AAEpBc,EAAAA,MAAM,EAAEZ,MAFY;AAGpBa,EAAAA,WAAW,EAAEZ,UAHO;AAIpBa,EAAAA,eAAe,EAAEZ;AAJG,CAAjB;;AAMP,MAAMa,QAAQ,GAAIC,IAAD,IAAU;AACvB,MAAG,CAACA,IAAJ,EAAS;AACL;AACH;;AACGrB,EAAAA,UAAU,CAACqB,IAAD,EAAON,QAAP,CAAV,CACKO,IADL,CACUC,IAAI,IAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CADlB,EAEKG,KAFL,CAEWC,GAAG,IAAIH,OAAO,CAACI,KAAR,CAAcD,GAAd,CAFlB;AAGP,CAPD;;KAAMP,Q;AASN,eAAeA,QAAf","sourcesContent":["import React , {useEffect, useState} from 'react';\nimport { uploadFile } from 'react-s3';\nimport dotenv from 'dotenv'\ndotenv.config()\n\n\n\nconst S3_BUCKET =required(\"REACT_APP_BUCKET_NAME\");\nconst REGION =required(\"REACT_APP_REGION\");\nconst ACCESS_KEY =required(\"REACT_APP_ACCESS_KEY\");\nconst SECRET_ACCESS_KEY =required(\"REACT_APP_ACCESS_SECRET_KEY\");\n\n\nfunction required(key, defaultValue = undefined) {\n    const value = process.env[key] || defaultValue;\n    if(value == null) {\n        throw new Error(`Key ${key} is undefined`);\n    }\n    return value;\n}\n\nexport const S3Config = {\n    bucketName: S3_BUCKET,\n    region: REGION,\n    accessKeyId: ACCESS_KEY,\n    secretAccessKey: SECRET_ACCESS_KEY,\n}\nconst UploadS3 = (file) => {\n    if(!file){\n        return;\n    }\n        uploadFile(file, S3Config)\n            .then(data => console.log(data))\n            .catch(err => console.error(err))\n}\n\nexport default UploadS3;"]},"metadata":{},"sourceType":"module"}