{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport { uploadFile } from 'react-s3';\nimport dotenv from 'dotenv';\ndotenv.config();\nconst S3_BUCKET = required(\"REACT_APP_BUCKET_NAME\");\nconst REGION = required(\"REACT_APP_REGION\");\nconst ACCESS_KEY = required(\"REACT_APP_ACCESS_KEY\");\nconst SECRET_ACCESS_KEY = required(\"REACT_APP_ACCESS_SECRET_KEY\");\n\nfunction required(key, defaultValue = undefined) {\n  const value = process.env[key] || defaultValue;\n\n  if (value == null) {\n    throw new Error(`Key ${key} is undefined`);\n  }\n\n  return value;\n}\n\n;\nexport const S3Config = {\n  bucketName: S3_BUCKET,\n  region: REGION,\n  accessKeyId: ACCESS_KEY,\n  secretAccessKey: SECRET_ACCESS_KEY\n};\nexport const UploadS3 = async files => {\n  if (!files) {\n    return;\n  }\n\n  files.forEach(files => {\n    files.forEach(file => {\n      console.log(file);\n      uploadFile(file, S3Config).then(data => console.log(data)).catch(err => console.error(err));\n    });\n  });\n};\n_c = UploadS3;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadS3\");","map":{"version":3,"sources":["/home/seung/react/shop/front-shop/src/components/UploadS3.js"],"names":["React","useEffect","useState","uploadFile","dotenv","config","S3_BUCKET","required","REGION","ACCESS_KEY","SECRET_ACCESS_KEY","key","defaultValue","undefined","value","process","env","Error","S3Config","bucketName","region","accessKeyId","secretAccessKey","UploadS3","files","forEach","file","console","log","then","data","catch","err","error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,UAAT,QAA2B,UAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACAA,MAAM,CAACC,MAAP;AAIA,MAAMC,SAAS,GAAEC,QAAQ,CAAC,uBAAD,CAAzB;AACA,MAAMC,MAAM,GAAED,QAAQ,CAAC,kBAAD,CAAtB;AACA,MAAME,UAAU,GAAEF,QAAQ,CAAC,sBAAD,CAA1B;AACA,MAAMG,iBAAiB,GAAEH,QAAQ,CAAC,6BAAD,CAAjC;;AAGA,SAASA,QAAT,CAAkBI,GAAlB,EAAuBC,YAAY,GAAGC,SAAtC,EAAiD;AAC7C,QAAMC,KAAK,GAAGC,OAAO,CAACC,GAAR,CAAYL,GAAZ,KAAoBC,YAAlC;;AACA,MAAGE,KAAK,IAAI,IAAZ,EAAkB;AACd,UAAM,IAAIG,KAAJ,CAAW,OAAMN,GAAI,eAArB,CAAN;AACH;;AACD,SAAOG,KAAP;AACH;;AAAA;AAED,OAAO,MAAMI,QAAQ,GAAG;AACpBC,EAAAA,UAAU,EAAEb,SADQ;AAEpBc,EAAAA,MAAM,EAAEZ,MAFY;AAGpBa,EAAAA,WAAW,EAAEZ,UAHO;AAIpBa,EAAAA,eAAe,EAAEZ;AAJG,CAAjB;AAMP,OAAO,MAAMa,QAAQ,GAAG,MAAMC,KAAN,IAAgB;AACpC,MAAG,CAACA,KAAJ,EAAU;AACN;AACH;;AACDA,EAAAA,KAAK,CAACC,OAAN,CAAcD,KAAK,IAAI;AACnBA,IAAAA,KAAK,CAACC,OAAN,CAAcC,IAAI,IAAI;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAvB,MAAAA,UAAU,CAACuB,IAAD,EAAOR,QAAP,CAAV,CACCW,IADD,CACMC,IAAI,IAAIH,OAAO,CAACC,GAAR,CAAYE,IAAZ,CADd,EAECC,KAFD,CAEOC,GAAG,IAAIL,OAAO,CAACM,KAAR,CAAcD,GAAd,CAFd;AAGH,KALD;AAOH,GARD;AAUH,CAdM;KAAMT,Q","sourcesContent":["import React , {useEffect, useState} from 'react';\nimport { uploadFile } from 'react-s3';\nimport dotenv from 'dotenv'\ndotenv.config()\n\n\n\nconst S3_BUCKET =required(\"REACT_APP_BUCKET_NAME\");\nconst REGION =required(\"REACT_APP_REGION\");\nconst ACCESS_KEY =required(\"REACT_APP_ACCESS_KEY\");\nconst SECRET_ACCESS_KEY =required(\"REACT_APP_ACCESS_SECRET_KEY\");\n\n\nfunction required(key, defaultValue = undefined) {\n    const value = process.env[key] || defaultValue;\n    if(value == null) {\n        throw new Error(`Key ${key} is undefined`);\n    }\n    return value;\n};\n\nexport const S3Config = {\n    bucketName: S3_BUCKET,\n    region: REGION,\n    accessKeyId: ACCESS_KEY,\n    secretAccessKey: SECRET_ACCESS_KEY,\n};\nexport const UploadS3 = async(files) => {\n    if(!files){\n        return;\n    }\n    files.forEach(files => {\n        files.forEach(file => {\n            console.log(file);\n            uploadFile(file, S3Config)\n            .then(data => console.log(data))\n            .catch(err => console.error(err))\n        })\n        \n    });\n       \n};\n\n"]},"metadata":{},"sourceType":"module"}