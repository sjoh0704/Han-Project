{"ast":null,"code":"var _jsxFileName = \"/home/seung/react/shop/front-shop/src/components/auction/AuctionDetail.js\",\n    _s = $RefreshSig$();\n\nimport { ListGroup, Container, Button, Form, Row, Col, ListGroupItem } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CategoryDirection } from \"../CategoryBanner\";\nimport { setMoney, setDate } from \"../Convenient\";\nimport Rating from \"../Rating\";\nimport Modal from \"../Modal\";\nimport io from \"socket.io-client\";\nimport auctionTimer from \"./timer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(process.env[\"REACT_APP_SOCKET_URL\"] || \"http://auction-service.default.svc:8080\", {\n  transports: [\"websocket\"]\n});\n\nfunction AuctionDetail({\n  match,\n  history\n}) {\n  _s();\n\n  const auctionId = match.params.number;\n  const [timer, setTimer] = useState(new Date());\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalContents, setModalContents] = useState(\"\");\n  const [buyer, setBuyer] = useState({\n    username: \"\"\n  });\n\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n\n  const {\n    isLoggedIn,\n    userData\n  } = useSelector(state => ({\n    isLoggedIn: state.user.isLoggedIn,\n    userData: state.user.payload\n  }));\n  const [image, setImage] = useState({\n    fileurl: null\n  });\n  const [product, setProduct] = useState({\n    finish: false,\n    id: null,\n    name: \"\",\n    price: 0,\n    area: null,\n    seller_id: null,\n    createdAt: null,\n    updatedAt: null\n  });\n  const [seller, setSeller] = useState({});\n\n  const fetchProduct = async () => {\n    let res = await axios.get(\"/apis/v1/store/\" + auctionId);\n    let _product = res.data;\n    _product.createdAt = \"2021-09-28T16:52:25.492Z\";\n    setProduct(_product);\n    setImage(_product.fileurl.length != 0 ? _product.fileurl[0].fileurls : null);\n    let res_seller = await axios.get(\"/apis/v1/user/\" + _product.seller_id);\n    setSeller(res_seller.data.payload);\n\n    if (_product.buyer_id) {\n      let res_buyer = await axios.get(\"/apis/v1/user/\" + _product.buyer_id);\n      setBuyer(res_buyer.data.payload.username);\n    } // check likes\n\n  };\n\n  socket.on(\"products\", msg => {\n    setProduct(msg);\n  });\n  useEffect(() => {\n    fetchProduct();\n  }, [auctionId, buyer]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTimer(auctionTimer(product.createdAt));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [timer]);\n\n  const onClickBid = async e => {\n    if (isLoggedIn === false || userData == null) {\n      setModalOpen(true);\n      setModalContents(\"로그인 후 이용하세요.\");\n      history.replace(\"/login\");\n      return;\n    } else if (userData.user_id == product.seller_id) {\n      setModalOpen(true);\n      setModalContents(\"판매자가 구매할 수 없습니다.\");\n      e.preventDefault();\n      return;\n    }\n\n    let res = await axios.put(\"/apis/v1/store/plus/\" + auctionId, {\n      buyer_id: userData.user_id\n    });\n    alert(\"입찰되었습니다.\");\n  };\n\n  const displayImage = image => {\n    if (!image) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(ListGroupItem, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: \"60vw\"\n        },\n        src: image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      open: modalOpen,\n      close: closeModal,\n      children: modalContents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#dedede\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: {\n              span: 4,\n              offset: 2\n            },\n            sm: {\n              span: 2,\n              offset: 7\n            },\n            md: {\n              span: 1,\n              offset: 9\n            },\n            lg: {\n              span: 1,\n              offset: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"2rem\",\n                fontSize: \"1.2rem\",\n                margin: 3,\n                color: \"#44444\"\n              },\n              onClick: () => {\n                history.push(\"/auction/home\");\n              },\n              children: \"\\uACBD\\uB9E4 \\uD648\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: {\n              span: 6,\n              offset: 0\n            },\n            sm: {\n              span: 3,\n              offset: 0\n            },\n            md: {\n              span: 2,\n              offset: 0\n            },\n            lg: {\n              span: 2,\n              offset: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"2rem\",\n                fontSize: \"1.2rem\",\n                margin: 3,\n                color: \"#44444\"\n              },\n              onClick: () => {\n                history.push(\"/auction/register\");\n              },\n              children: \"\\uACBD\\uB9E4\\uC0C1\\uD488 \\uB4F1\\uB85D\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(CategoryDirection, {\n        tag1: \"경매\",\n        tag2: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          lg: {\n            span: 10,\n            offset: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid #dedede\",\n              padding: 5\n            },\n            children: image ? /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: \"12\",\n                sm: \"12\",\n                md: \"6\",\n                lg: \"7\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    padding: 15\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    style: {\n                      width: \"100%\",\n                      height: \"auto\"\n                    },\n                    src: image\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: \"12\",\n                sm: \"12\",\n                md: \"6\",\n                lg: \"5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    border: \"1px solid #dedede\",\n                    margin: 5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    style: {\n                      paddingTop: 5\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Rating, {\n                      user: seller,\n                      area: product.area\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    style: {\n                      marginTop: 20,\n                      paddingTop: 20\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      xs: \"9\",\n                      sm: \"9\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          marginLeft: 20,\n                          fontSize: \"2.2rem\",\n                          fontWeight: \"bolder\"\n                        },\n                        children: product.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      margin: 20\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"1.5rem\"\n                      },\n                      children: \" \\uD604\\uC7AC\\uAC00: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"2rem\"\n                      },\n                      children: [setMoney(product.price), \" \\u20A9\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: \"1.5rem\",\n                      margin: 20\n                    },\n                    children: [\"\\uB4F1\\uB85D \\uC2DC\\uAC04: \", setDate(product.createdAt)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: \"1.5rem\",\n                      margin: 20\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"1.5rem\"\n                      },\n                      children: \" \\uB099\\uCC30\\uAE4C\\uC9C0 \\uB0A8\\uC740 \\uC2DC\\uAC04:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 49\n                    }, this), product.finish ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"2rem\",\n                        fontWeight: \"bold\"\n                      },\n                      children: [\" \", \"0시간 0분 0초\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 53\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"2rem\",\n                        fontWeight: \"bold\"\n                      },\n                      children: [\" \", auctionTimer(product.createdAt)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: \"1.5rem\",\n                      margin: 20\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"1.5rem\"\n                      },\n                      children: \"\\uCD5C\\uC885 \\uB099\\uCC30\\uC790: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 49\n                    }, this), buyer ? buyer.username : \"없습니다.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    style: {\n                      fontSize: \"1.5rem\",\n                      padding: 20\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        fontSize: \"3em\",\n                        margin: 20\n                      },\n                      children: [product.price ? product.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : product.price, \" \\u20A9\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-grid gap-2\",\n                      children: product.finish ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          style: {\n                            fontSize: \"2rem\",\n                            margin: 30,\n                            color: \"red\"\n                          },\n                          children: \"\\uACBD\\uB9E4\\uAC00 \\uB9C8\\uAC10\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 198,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 57\n                      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"emptyButton\",\n                        onClick: onClickBid,\n                        style: {\n                          fontSize: \"1.5rem\",\n                          margin: 20,\n                          height: 50\n                        },\n                        children: \"\\uC785\\uCC30\\uD558\\uAE30\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  border: \"1px solid #dedede\",\n                  margin: 5\n                },\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    paddingTop: 5\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    lg: \"10\",\n                    md: \"10\",\n                    xs: \"12\",\n                    children: /*#__PURE__*/_jsxDEV(Rating, {\n                      user: seller,\n                      area: product.area\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    marginTop: 20,\n                    paddingTop: 20\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"9\",\n                    sm: \"9\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        marginLeft: 20,\n                        fontSize: \"2.2rem\",\n                        fontWeight: \"bolder\"\n                      },\n                      children: product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    margin: 20\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: \"1.5rem\"\n                    },\n                    children: \" \\uD604\\uC7AC\\uAC00: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: \"2rem\"\n                    },\n                    children: [setMoney(product.price), \" \\u20A9\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: \"1.5rem\",\n                    margin: 20\n                  },\n                  children: [\"\\uB4F1\\uB85D \\uC2DC\\uAC04: \", setDate(product.createdAt)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: \"1.5rem\",\n                    margin: 20\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: \"1.5rem\"\n                    },\n                    children: \" \\uB099\\uCC30\\uAE4C\\uC9C0 \\uB0A8\\uC740 \\uC2DC\\uAC04:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 45\n                  }, this), product.finish ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: \"2rem\",\n                      fontWeight: \"bold\"\n                    },\n                    children: [\" \", \"0시간 0분 0초\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: \"2rem\",\n                      fontWeight: \"bold\"\n                    },\n                    children: [\" \", auctionTimer(product.createdAt)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    fontSize: \"1.5rem\",\n                    padding: 20\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        fontSize: \"3em\",\n                        margin: 20\n                      },\n                      children: [product.price ? product.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : product.price, \" \\u20A9\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xs: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-grid gap-2\",\n                      children: product.finish ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          style: {\n                            fontSize: \"2rem\",\n                            margin: 30,\n                            color: \"red\"\n                          },\n                          children: \"\\uACBD\\uB9E4\\uAC00 \\uB9C8\\uAC10\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 247,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 246,\n                        columnNumber: 57\n                      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"emptyButton\",\n                        onClick: onClickBid,\n                        style: {\n                          fontSize: \"1.5rem\",\n                          margin: 20,\n                          height: 50\n                        },\n                        children: \"\\uC785\\uCC30\\uD558\\uAE30\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginTop: 40\n            },\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 10,\n                      fontSize: \"2rem\"\n                    },\n                    children: \"\\uACBD\\uB9E4 \\uC0C1\\uC138 \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 37\n                }, this), displayImage(image), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 20,\n                      fontSize: \"2rem\"\n                    },\n                    children: product.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AuctionDetail, \"rQTVkMbmWhqPevRRmvsl7TpnhXs=\", false, function () {\n  return [useSelector];\n});\n\n_c = AuctionDetail;\nexport default AuctionDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuctionDetail\");","map":{"version":3,"sources":["/home/seung/react/shop/front-shop/src/components/auction/AuctionDetail.js"],"names":["ListGroup","Container","Button","Form","Row","Col","ListGroupItem","axios","useEffect","useState","useSelector","CategoryDirection","setMoney","setDate","Rating","Modal","io","auctionTimer","socket","process","env","transports","AuctionDetail","match","history","auctionId","params","number","timer","setTimer","Date","modalOpen","setModalOpen","modalContents","setModalContents","buyer","setBuyer","username","closeModal","isLoggedIn","userData","state","user","payload","image","setImage","fileurl","product","setProduct","finish","id","name","price","area","seller_id","createdAt","updatedAt","seller","setSeller","fetchProduct","res","get","_product","data","length","fileurls","res_seller","buyer_id","res_buyer","on","msg","interval","setInterval","clearInterval","onClickBid","e","replace","user_id","preventDefault","put","alert","displayImage","width","background","span","offset","height","fontSize","margin","color","push","border","padding","paddingTop","marginTop","marginLeft","fontWeight","toString","description"],"mappings":"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","sourcesContent":["import { ListGroup, Container, Button, Form, Row, Col, ListGroupItem } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CategoryDirection } from \"../CategoryBanner\";\nimport { setMoney, setDate } from \"../Convenient\";\nimport Rating from \"../Rating\";\nimport Modal from \"../Modal\";\nimport io from \"socket.io-client\";\nimport auctionTimer from \"./timer\";\nconst socket = io(process.env[\"REACT_APP_SOCKET_URL\"] || \"http://auction-service.default.svc:8080\", { transports: [\"websocket\"] });\n\nfunction AuctionDetail({ match, history }) {\n    const auctionId = match.params.number;\n    const [timer, setTimer] = useState(new Date());\n    const [modalOpen, setModalOpen] = useState(false);\n    const [modalContents, setModalContents] = useState(\"\");\n    const [buyer, setBuyer] = useState({ username: \"\" });\n    const closeModal = () => {\n        setModalOpen(false);\n    };\n\n    const { isLoggedIn, userData } = useSelector((state) => ({\n        isLoggedIn: state.user.isLoggedIn,\n        userData: state.user.payload,\n    }));\n\n    const [image, setImage] = useState({\n        fileurl: null,\n    });\n    const [product, setProduct] = useState({\n        finish: false,\n        id: null,\n        name: \"\",\n        price: 0,\n        area: null,\n        seller_id: null,\n        createdAt: null,\n        updatedAt: null,\n    });\n    const [seller, setSeller] = useState({});\n\n    const fetchProduct = async () => {\n        let res = await axios.get(\"/apis/v1/store/\" + auctionId);\n        let _product = res.data;\n        _product.createdAt = \"2021-09-28T16:52:25.492Z\";\n        setProduct(_product);\n        setImage(_product.fileurl.length != 0 ? _product.fileurl[0].fileurls : null);\n\n        let res_seller = await axios.get(\"/apis/v1/user/\" + _product.seller_id);\n        setSeller(res_seller.data.payload);\n        if (_product.buyer_id) {\n            let res_buyer = await axios.get(\"/apis/v1/user/\" + _product.buyer_id);\n            setBuyer(res_buyer.data.payload.username);\n        }\n\n        // check likes\n    };\n\n    socket.on(\"products\", (msg) => {\n        setProduct(msg);\n    });\n\n    useEffect(() => {\n        fetchProduct();\n    }, [auctionId, buyer]);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setTimer(auctionTimer(product.createdAt));\n        }, 1000);\n        return () => clearInterval(interval);\n    }, [timer]);\n\n    const onClickBid = async (e) => {\n        if (isLoggedIn === false || userData == null) {\n            setModalOpen(true);\n            setModalContents(\"로그인 후 이용하세요.\");\n            history.replace(\"/login\");\n            return;\n        } else if (userData.user_id == product.seller_id) {\n            setModalOpen(true);\n            setModalContents(\"판매자가 구매할 수 없습니다.\");\n            e.preventDefault();\n            return;\n        }\n        let res = await axios.put(\"/apis/v1/store/plus/\" + auctionId, { buyer_id: userData.user_id });\n        alert(\"입찰되었습니다.\");\n    };\n\n    const displayImage = (image) => {\n        if (!image) {\n            return <div></div>;\n        }\n        return (\n            <ListGroupItem>\n                <br />\n                <img\n                    style={{\n                        width: \"60vw\",\n                    }}\n                    src={image}\n                ></img>\n                <br />\n                <br />\n            </ListGroupItem>\n        );\n    };\n\n    return (\n        <div>\n            <Modal open={modalOpen} close={closeModal}>\n                {modalContents}\n            </Modal>\n            <div style={{ background: \"#dedede\" }}>\n                <Container>\n                    <Row>\n                        <Col xs={{ span: 4, offset: 2 }} sm={{ span: 2, offset: 7 }} md={{ span: 1, offset: 9 }} lg={{ span: 1, offset: 8 }}>\n                            <div\n                                style={{ height: \"2rem\", fontSize: \"1.2rem\", margin: 3, color: \"#44444\" }}\n                                onClick={() => {\n                                    history.push(\"/auction/home\");\n                                }}\n                            >\n                                경매 홈\n                            </div>\n                        </Col>\n                        <Col xs={{ span: 6, offset: 0 }} sm={{ span: 3, offset: 0 }} md={{ span: 2, offset: 0 }} lg={{ span: 2, offset: 0 }}>\n                            <div\n                                style={{ height: \"2rem\", fontSize: \"1.2rem\", margin: 3, color: \"#44444\" }}\n                                onClick={() => {\n                                    history.push(\"/auction/register\");\n                                }}\n                            >\n                                경매상품 등록하기\n                            </div>\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n\n            <Container>\n                <CategoryDirection tag1={\"경매\"} tag2={product.name} />\n                <Row>\n                    <Col lg={{ span: 10, offset: 1 }}>\n                        <div style={{ border: \"1px solid #dedede\", padding: 5 }}>\n                            {image ? (\n                                <Row>\n                                    <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"7\">\n                                        <div style={{ padding: 15 }}>\n                                            <img\n                                                style={{\n                                                    width: \"100%\",\n                                                    height: \"auto\",\n                                                }}\n                                                src={image}\n                                            ></img>\n                                        </div>\n                                    </Col>\n                                    <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"5\">\n                                        <div style={{ border: \"1px solid #dedede\", margin: 5 }}>\n                                            <Row style={{ paddingTop: 5 }}>\n                                                <Rating user={seller} area={product.area} />\n                                            </Row>\n                                            <hr />\n\n                                            <Row style={{ marginTop: 20, paddingTop: 20 }}>\n                                                <Col xs=\"9\" sm=\"9\">\n                                                    <p style={{ marginLeft: 20, fontSize: \"2.2rem\", fontWeight: \"bolder\" }}>{product.name}</p>\n                                                </Col>\n                                            </Row>\n                                            <div style={{ margin: 20 }}>\n                                                <span style={{ fontSize: \"1.5rem\" }}> 현재가: </span>\n                                                <span style={{ fontSize: \"2rem\" }}>{setMoney(product.price)} ₩</span>\n                                            </div>\n                                            <p style={{ fontSize: \"1.5rem\", margin: 20 }}>등록 시간: {setDate(product.createdAt)}</p>\n                                            <div style={{ fontSize: \"1.5rem\", margin: 20 }}>\n                                                <span style={{ fontSize: \"1.5rem\" }}> 낙찰까지 남은 시간:</span>\n                                                {product.finish ? (\n                                                    <span style={{ fontSize: \"2rem\", fontWeight: \"bold\" }}> {\"0시간 0분 0초\"}</span>\n                                                ) : (\n                                                    <span style={{ fontSize: \"2rem\", fontWeight: \"bold\" }}> {auctionTimer(product.createdAt)}</span>\n                                                )}\n                                            </div>\n                                            <div style={{ fontSize: \"1.5rem\", margin: 20 }}>\n                                                <span style={{ fontSize: \"1.5rem\" }}>최종 낙찰자: </span>\n                                                {buyer ? buyer.username : \"없습니다.\"}\n                                            </div>\n                                            <Row style={{ fontSize: \"1.5rem\", padding: 20 }}></Row>\n                                            <Col>\n                                                <p style={{ fontSize: \"3em\", margin: 20 }}>{product.price ? product.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : product.price} ₩</p>\n                                            </Col>\n\n                                            <Col xs=\"12\">\n                                                <div className=\"d-grid gap-2\">\n                                                    {product.finish ? (\n                                                        <div>\n                                                            <p style={{ fontSize: \"2rem\", margin: 30, color: \"red\" }}>경매가 마감되었습니다</p>\n                                                        </div>\n                                                    ) : (\n                                                        <button className=\"emptyButton\" onClick={onClickBid} style={{ fontSize: \"1.5rem\", margin: 20, height: 50 }}>\n                                                            입찰하기\n                                                        </button>\n                                                    )}\n                                                </div>\n                                            </Col>\n                                        </div>\n                                    </Col>\n                                </Row>\n                            ) : (\n                                <Col xs=\"12\">\n                                    <div style={{ border: \"1px solid #dedede\", margin: 5 }}>\n                                        <Row style={{ paddingTop: 5 }}>\n                                            <Col lg=\"10\" md=\"10\" xs=\"12\">\n                                                <Rating user={seller} area={product.area} />\n                                            </Col>\n                                        </Row>\n                                        <hr />\n\n                                        <Row style={{ marginTop: 20, paddingTop: 20 }}>\n                                            <Col xs=\"9\" sm=\"9\">\n                                                <p style={{ marginLeft: 20, fontSize: \"2.2rem\", fontWeight: \"bolder\" }}>{product.name}</p>\n                                            </Col>\n                                        </Row>\n                                        <div style={{ margin: 20 }}>\n                                            <span style={{ fontSize: \"1.5rem\" }}> 현재가: </span>\n                                            <span style={{ fontSize: \"2rem\" }}>{setMoney(product.price)} ₩</span>\n                                        </div>\n                                        <p style={{ fontSize: \"1.5rem\", margin: 20 }}>등록 시간: {setDate(product.createdAt)}</p>\n                                        <div style={{ fontSize: \"1.5rem\", margin: 20 }}>\n                                            <span style={{ fontSize: \"1.5rem\" }}> 낙찰까지 남은 시간:</span>\n                                            {product.finish ? (\n                                                <span style={{ fontSize: \"2rem\", fontWeight: \"bold\" }}> {\"0시간 0분 0초\"}</span>\n                                            ) : (\n                                                <span style={{ fontSize: \"2rem\", fontWeight: \"bold\" }}> {auctionTimer(product.createdAt)}</span>\n                                            )}\n                                        </div>\n                                        <Row style={{ fontSize: \"1.5rem\", padding: 20 }}>\n                                            <Col xs=\"6\">\n                                                <p style={{ fontSize: \"3em\", margin: 20 }}>{product.price ? product.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : product.price} ₩</p>\n                                            </Col>\n\n                                            <Col xs=\"6\">\n                                                <div className=\"d-grid gap-2\">\n                                                    {product.finish ? (\n                                                        <div>\n                                                            <p style={{ fontSize: \"2rem\", margin: 30, color: \"red\" }}>경매가 마감되었습니다</p>\n                                                        </div>\n                                                    ) : (\n                                                        <button className=\"emptyButton\" onClick={onClickBid} style={{ fontSize: \"1.5rem\", margin: 20, height: 50 }}>\n                                                            입찰하기\n                                                        </button>\n                                                    )}\n                                                </div>\n                                            </Col>\n                                        </Row>\n                                    </div>\n                                </Col>\n                            )}\n                        </div>\n                        <Row style={{ marginTop: 40 }}>\n                            <Col>\n                                <ListGroup>\n                                    <ListGroupItem>\n                                        <p style={{ margin: 10, fontSize: \"2rem\" }}>경매 상세 </p>\n                                    </ListGroupItem>\n\n                                    {displayImage(image)}\n\n                                    <ListGroupItem>\n                                        <p style={{ margin: 20, fontSize: \"2rem\" }}>{product.description}</p>\n                                    </ListGroupItem>\n                                </ListGroup>\n                            </Col>\n                        </Row>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n\nexport default AuctionDetail;\n"]},"metadata":{},"sourceType":"module"}