{"ast":null,"code":"var _jsxFileName = \"/home/seung/react/shop/front-shop/src/components/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport Title from \"./Title\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport { loginAction, logoutAction } from \"../modules/user\";\nimport { CategoryDirection } from \"./CategoryBanner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile({\n  history\n}) {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    isLoggedIn,\n    userData\n  } = useSelector(state => ({\n    isLoggedIn: state.user.isLoggedIn,\n    userData: state.user.payload\n  }));\n  console.log(userData);\n  const [user, setUser] = useState({\n    username: userData.username,\n    email: userData.useremail,\n    phone_number: userData.phone_number\n  });\n  const {\n    username,\n    email,\n    phone_number\n  } = user;\n  const user_id = userData.user_id;\n\n  const onChangeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const onClickEditHandler = async e => {\n    e.preventDefault();\n    let body = {\n      user_id: user_id,\n      username: username,\n      useremail: email,\n      phone_number: phone_number\n    };\n    await axios.post(`/apis/v1/user/${user_id}`, body).then(response => {\n      alert(\"사용자 정보 수정 완료\");\n      dispatch(loginAction(body));\n    }).catch(e => {\n      alert(\"사용자 정보 수정 실패\");\n    });\n  };\n\n  const onClickDeleteHandler = async e => {\n    e.preventDefault();\n    await axios.delete(`/apis/v1/user/${user_id}`).then(response => {\n      console.log(response);\n      alert(\"회원 탈퇴 완료\");\n      dispatch(logoutAction());\n      history.replace(\"/\");\n    }).catch(e => {\n      alert(\"회원 탈퇴 실패\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(CategoryDirection, {\n        tag1: \"내정보 관리\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          lg: {\n            span: 6,\n            offset: 3\n          },\n          md: {\n            span: 8,\n            offset: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"1.2rem\",\n              border: \"1px solid #dedede\",\n              paddingTop: 60,\n              paddingBottom: 60\n            },\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                lg: {\n                  span: 10,\n                  offset: 2\n                },\n                md: {\n                  span: 10,\n                  offset: 1\n                },\n                sm: {\n                  span: 10,\n                  offset: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    as: Row,\n                    controlId: \"exampleForm.ControlInput1\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      column: true,\n                      sm: \"2\",\n                      md: \"2\",\n                      lg: \"2\",\n                      style: {},\n                      children: \"\\uC544\\uC774\\uB514\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"8\",\n                      md: \"10\",\n                      lg: \"8\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        size: \"lg\",\n                        name: \"username\",\n                        value: username,\n                        onChange: onChangeHandler,\n                        placeholder: \"ID\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 82,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    as: Row,\n                    controlId: \"exampleForm.ControlInput1\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      column: true,\n                      sm: \"2\",\n                      md: \"2\",\n                      lg: \"2\",\n                      style: {},\n                      children: \"\\uC774\\uBA54\\uC77C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"8\",\n                      md: \"10\",\n                      lg: \"8\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        size: \"lg\",\n                        name: \"email\",\n                        value: email,\n                        onChange: onChangeHandler,\n                        placeholder: \"email\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    as: Row,\n                    controlId: \"exampleForm.ControlInput1\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      column: true,\n                      md: \"2\",\n                      sm: \"2\",\n                      lg: \"2\",\n                      style: {},\n                      children: \"\\uC804\\uD654\\uBC88\\uD638\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"8\",\n                      md: \"10\",\n                      lg: \"8\",\n                      children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                        size: \"lg\",\n                        name: \"phone_number\",\n                        value: phone_number,\n                        onChange: onChangeHandler,\n                        placeholder: \"\\uB300\\uC2DC(-) \\uC5C6\\uC774 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      lg: {\n                        span: 4,\n                        offset: 2\n                      },\n                      md: {\n                        span: 4,\n                        offset: 4\n                      },\n                      sm: {\n                        span: 3,\n                        offset: 4\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-grid gap-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"filledButton\",\n                          style: {\n                            fontSize: \"1.3rem\",\n                            height: \"3.5rem\"\n                          },\n                          onClick: onClickEditHandler,\n                          children: \"\\uC218\\uC815\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 108,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \" \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      lg: {\n                        span: 4,\n                        offset: 0\n                      },\n                      md: {\n                        span: 4\n                      },\n                      sm: {\n                        span: 3,\n                        offset: 0\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-grid gap-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"emptyButton\",\n                          style: {\n                            fontSize: \"1.3rem\",\n                            height: \"3.5rem\"\n                          },\n                          onClick: onClickDeleteHandler,\n                          children: \"\\uD68C\\uC6D0 \\uD0C8\\uD1F4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"DFy0N5tKvnWfeYzMIr3L69wp4Eo=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/seung/react/shop/front-shop/src/components/Profile.js"],"names":["React","useState","Container","Row","Col","Form","Button","Title","useDispatch","useSelector","axios","loginAction","logoutAction","CategoryDirection","Profile","history","dispatch","isLoggedIn","userData","state","user","payload","console","log","setUser","username","email","useremail","phone_number","user_id","onChangeHandler","e","name","value","target","onClickEditHandler","preventDefault","body","post","then","response","alert","catch","onClickDeleteHandler","delete","replace","span","offset","fontSize","border","paddingTop","paddingBottom","height"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport Title from \"./Title\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport { loginAction, logoutAction } from \"../modules/user\";\nimport { CategoryDirection } from \"./CategoryBanner\";\n\nfunction Profile({ history }) {\n    const dispatch = useDispatch();\n    const { isLoggedIn, userData } = useSelector((state) => ({\n        isLoggedIn: state.user.isLoggedIn,\n        userData: state.user.payload,\n    }));\n\n    console.log(userData);\n\n    const [user, setUser] = useState({\n        username: userData.username,\n        email: userData.useremail,\n        phone_number: userData.phone_number,\n    });\n    const { username, email, phone_number } = user;\n    const user_id = userData.user_id;\n\n    const onChangeHandler = (e) => {\n        const { name, value } = e.target;\n        setUser({\n            ...user,\n            [name]: value,\n        });\n    };\n    const onClickEditHandler = async (e) => {\n        e.preventDefault();\n        let body = {\n            user_id: user_id,\n            username: username,\n            useremail: email,\n            phone_number: phone_number,\n        };\n        await axios\n            .post(`/apis/v1/user/${user_id}`, body)\n            .then((response) => {\n                alert(\"사용자 정보 수정 완료\");\n                dispatch(loginAction(body));\n            })\n            .catch((e) => {\n                alert(\"사용자 정보 수정 실패\");\n            });\n    };\n\n    const onClickDeleteHandler = async (e) => {\n        e.preventDefault();\n        await axios\n            .delete(`/apis/v1/user/${user_id}`)\n            .then((response) => {\n                console.log(response);\n                alert(\"회원 탈퇴 완료\");\n                dispatch(logoutAction());\n                history.replace(\"/\");\n            })\n            .catch((e) => {\n                alert(\"회원 탈퇴 실패\");\n            });\n    };\n\n    return (\n        <div>\n            <Container>\n                <CategoryDirection tag1={\"내정보 관리\"}></CategoryDirection>\n                <Row>\n                    <Col lg={{ span: 6, offset: 3 }} md={{ span: 8, offset: 2 }}>\n                        <div style={{ fontSize: \"1.2rem\", border: \"1px solid #dedede\", paddingTop: 60, paddingBottom: 60 }}>\n                            <Row>\n                                <Col lg={{ span: 10, offset: 2 }} md={{ span: 10, offset: 1 }} sm={{ span: 10, offset: 1 }}>\n                                    <Form>\n                                        <Form.Group as={Row} controlId=\"exampleForm.ControlInput1\">\n                                            <Form.Label column sm=\"2\"  md=\"2\" lg=\"2\" style={{}}>\n                                                아이디\n                                            </Form.Label>\n                                            <Col sm=\"8\" md=\"10\" lg=\"8\">\n                                                <Form.Control size=\"lg\" name=\"username\" value={username} onChange={onChangeHandler} placeholder=\"ID를 입력해주세요\" />\n                                            </Col>\n                                        </Form.Group>\n                                        <br />\n                                        <Form.Group as={Row} controlId=\"exampleForm.ControlInput1\">\n                                            <Form.Label column sm=\"2\"  md=\"2\" lg=\"2\" style={{}}>\n                                                이메일\n                                            </Form.Label>\n                                            <Col sm=\"8\" md=\"10\" lg=\"8\">\n                                                <Form.Control size=\"lg\" name=\"email\" value={email} onChange={onChangeHandler} placeholder=\"email을 입력해주세요\" />\n                                            </Col>\n                                        </Form.Group>\n                                        <br />\n                                        <Form.Group as={Row} controlId=\"exampleForm.ControlInput1\">\n                                            <Form.Label column  md=\"2\" sm=\"2\" lg=\"2\" style={{}}>\n                                                전화번호\n                                            </Form.Label>\n                                            <Col sm=\"8\"  md=\"10\" lg=\"8\">\n                                                <Form.Control size=\"lg\" name=\"phone_number\" value={phone_number} onChange={onChangeHandler} placeholder=\"대시(-) 없이 입력해주세요\" />\n                                            </Col>\n                                        </Form.Group>\n                                        <br />\n\n                                        <Row>\n                                            <Col lg={{ span: 4, offset: 2 }} md={{ span: 4, offset: 4 }}  sm={{ span: 3, offset: 4 }}>\n                                                <div className=\"d-grid gap-2\">\n                                                    <button className=\"filledButton\" style={{ fontSize: \"1.3rem\", height: \"3.5rem\" }} onClick={onClickEditHandler}>\n                                                        수정\n                                                    </button>\n                                                    <span> </span>\n                                                </div>\n                                            </Col>\n                                            <Col lg={{ span: 4, offset: 0 }} md={{ span: 4}} sm={{ span: 3, offset: 0 }}>\n                                                <div className=\"d-grid gap-2\">\n                                                    <button className=\"emptyButton\" style={{ fontSize: \"1.3rem\", height: \"3.5rem\" }} onClick={onClickDeleteHandler}>\n                                                        회원 탈퇴\n                                                    </button>\n                                                </div>\n                                            </Col>\n                                        </Row>\n                                    </Form>\n                                </Col>\n                            </Row>\n                        </div>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}